{"version":3,"file":"static/js/516.49f88a30.chunk.js","mappings":"wLAIA,MAmGA,EAnGmCA,KACjC,MAAOC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,KACpCC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,KAC5BG,EAASC,IAAcJ,EAAAA,EAAAA,UAAS,IA+CvC,OACEK,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,UAAAD,UACEC,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,MAAAD,UAAIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,qBAAoBH,SAAC,sBAKxCC,EAAAA,EAAAA,KAAA,QAAAD,UACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,6BACJF,EAAAA,EAAAA,MAAA,QAAMM,SA1DQC,IACpBA,EAAMC,iBAGN,IAAIC,EAAqBC,KAAKC,MAAMC,aAAaC,QAAQ,aAAe,MACpEC,EAA0BJ,KAAKC,MAAMC,aAAaC,QAAQ,iBAAmB,MAGjF,MAAME,EAAeN,EAAYO,WAAWC,GAAcA,EAAKxB,YAAcA,IAE7E,IAAsB,IAAlBsB,EAAqB,CACvB,MAAMG,EAAUT,EAAYM,GACtBI,EAAgBD,EAAQtB,MAG9Ba,EAAYM,GAAcnB,MAAQA,EAClCgB,aAAaQ,QAAQ,WAAYV,KAAKW,UAAUZ,IAG5CU,GAAiBA,IAAkBvB,IACrCkB,EAAqB,IAChBA,EACH,CAACK,GAAgB,eAKrBL,EAAqB,IAChBA,EACH,CAAClB,GAAQ,WAIXgB,aAAaQ,QAAQ,eAAgBV,KAAKW,UAAUP,IAEpDf,EAAW,SAADuB,OAAU1B,EAAK,8BAAA0B,OAA6BJ,EAAQK,OAAM,8BACtE,MACExB,EAAW,2DAADuB,OAAmD7B,IAI/DC,EAAa,IACbG,EAAS,GAAG,EAgBuBK,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SAAOqB,QAAQ,YAAWtB,SAAC,mBAC3BC,EAAAA,EAAAA,KAAA,SACEsB,KAAK,OACLC,GAAG,YACHC,KAAK,YACLC,MAAOnC,EACPoC,SAAWC,GAAMpC,EAAaoC,EAAEC,OAAOH,OACvCI,UAAQ,QAGZhC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SAAOqB,QAAQ,QAAOtB,SAAC,YACvBC,EAAAA,EAAAA,KAAA,SACEsB,KAAK,OACLC,GAAG,QACHC,KAAK,QACLC,MAAOhC,EACPiC,SAAWC,GAAMjC,EAASiC,EAAEC,OAAOH,OACnCI,UAAQ,QAGZ7B,EAAAA,EAAAA,KAAA,UAAQsB,KAAK,SAAQvB,SAAC,qBAEvBJ,IAAWK,EAAAA,EAAAA,KAAA,KAAAD,SAAIJ,UAIpBK,EAAAA,EAAAA,KAAA,UAAAD,UACEC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,iFAED,C","sources":["components/AsignarPlazaPage/AsignarPlazaPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './AsignarPlazaPage.css'; // Asegúrate de que la ruta sea correcta para tu archivo CSS\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AsignarPlazaPage: React.FC = () => {\r\n  const [matricula, setMatricula] = useState('');\r\n  const [plaza, setPlaza] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n\r\n    // Obtener usuarios almacenados localmente\r\n    let storedUsers: any[] = JSON.parse(localStorage.getItem('usuarios') || '[]');\r\n    let storedParkingSpots: any = JSON.parse(localStorage.getItem('parkingSpots') || '{}');\r\n\r\n    // Buscar el usuario por matrícula\r\n    const usuarioIndex = storedUsers.findIndex((user: any) => user.matricula === matricula);\r\n\r\n    if (usuarioIndex !== -1) {\r\n      const usuario = storedUsers[usuarioIndex];\r\n      const plazaAnterior = usuario.plaza;\r\n\r\n      // Actualizar la plaza del usuario\r\n      storedUsers[usuarioIndex].plaza = plaza;\r\n      localStorage.setItem('usuarios', JSON.stringify(storedUsers));\r\n\r\n      // Liberar plaza anterior si existe y es diferente a la nueva plaza asignada\r\n      if (plazaAnterior && plazaAnterior !== plaza) {\r\n        storedParkingSpots = {\r\n          ...storedParkingSpots,\r\n          [plazaAnterior]: 'Disponible'\r\n        };\r\n      }\r\n\r\n      // Asignar nueva plaza\r\n      storedParkingSpots = {\r\n        ...storedParkingSpots,\r\n        [plaza]: 'Ocupado'\r\n      };\r\n\r\n      // Guardar cambios en localStorage para parkingSpots\r\n      localStorage.setItem('parkingSpots', JSON.stringify(storedParkingSpots));\r\n\r\n      setMessage(`Plaza ${plaza} asignada correctamente a ${usuario.correo}. Plaza anterior liberada.`);\r\n    } else {\r\n      setMessage(`No se encontró ningún usuario con la matrícula ${matricula}`);\r\n    }\r\n\r\n    // Limpiar campos después de enviar\r\n    setMatricula('');\r\n    setPlaza('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"AsignarPlazaPage\">\r\n      <header>\r\n        <nav>\r\n          <ul>\r\n            <li><Link to=\"/AdministratorPage\">Regresar</Link></li>\r\n          </ul>\r\n        </nav>\r\n      </header>\r\n\r\n      <main>\r\n        <div className=\"plaza-form\">\r\n          <h1>Asignar/Modificar Plaza</h1>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"matricula\">Matrícula:</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"matricula\"\r\n                name=\"matricula\"\r\n                value={matricula}\r\n                onChange={(e) => setMatricula(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"plaza\">Plaza:</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"plaza\"\r\n                name=\"plaza\"\r\n                value={plaza}\r\n                onChange={(e) => setPlaza(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n            <button type=\"submit\">Asignar Plaza</button>\r\n          </form>\r\n          {message && <p>{message}</p>}\r\n        </div>\r\n      </main>\r\n\r\n      <footer>\r\n        <p>&copy; 2024 Artiles Enriquez Marcos Javier. Todos los derechos reservados.</p>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AsignarPlazaPage;"],"names":["AsignarPlazaPage","matricula","setMatricula","useState","plaza","setPlaza","message","setMessage","_jsxs","className","children","_jsx","Link","to","onSubmit","event","preventDefault","storedUsers","JSON","parse","localStorage","getItem","storedParkingSpots","usuarioIndex","findIndex","user","usuario","plazaAnterior","setItem","stringify","concat","correo","htmlFor","type","id","name","value","onChange","e","target","required"],"sourceRoot":""}